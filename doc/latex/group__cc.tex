\hypertarget{group__cc}{\section{Concurrency control.}
\label{group__cc}\index{Concurrency control.@{Concurrency control.}}
}


Concurrency and preemption control A\-P\-I.  


Collaboration diagram for Concurrency control.\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=328pt]{group__cc}
\end{center}
\end{figure}
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__cc_gaf936bcf607a61848cfea21c119f30905}{preempt\-\_\-off}~(\hyperlink{group__cc_ga6121802a0b64aae83288f60bf8a76834}{set\-\_\-core\-\_\-preemption}(0))
\begin{DoxyCompactList}\small\item\em Easily turn preemption off. \end{DoxyCompactList}\item 
\#define \hyperlink{group__cc_gac8efed506a60c7c6f02514e878a4004b}{preempt\-\_\-on}~(\hyperlink{group__cc_ga6121802a0b64aae83288f60bf8a76834}{set\-\_\-core\-\_\-preemption}(1))
\begin{DoxyCompactList}\small\item\em Easily turn preemption off. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{group__cc_ga6121802a0b64aae83288f60bf8a76834}{set\-\_\-core\-\_\-preemption} (int preempt)
\begin{DoxyCompactList}\small\item\em Set the preemption status for the current thread. \end{DoxyCompactList}\item 
int \hyperlink{group__cc_gac3fd575c0f82fd75f8e7305be1107e2c}{get\-\_\-core\-\_\-preemption} ()
\begin{DoxyCompactList}\small\item\em Get the current preemption status. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{group__syscalls_gaef2ec62cae8e0031fd19fc8b91083ade}{Mutex} \hyperlink{group__cc_ga57ffb2dcd44b56da47dc03b2f85d9480}{kernel\-\_\-mutex}
\begin{DoxyCompactList}\small\item\em The kernel lock. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Concurrency and preemption control A\-P\-I. This file provides routines for concurrency control and preemption management. 

\subsection{Macro Definition Documentation}
\hypertarget{group__cc_gaf936bcf607a61848cfea21c119f30905}{\index{Concurrency control.@{Concurrency control.}!preempt\-\_\-off@{preempt\-\_\-off}}
\index{preempt\-\_\-off@{preempt\-\_\-off}!Concurrency control.@{Concurrency control.}}
\subsubsection[{preempt\-\_\-off}]{\setlength{\rightskip}{0pt plus 5cm}\#define preempt\-\_\-off~({\bf set\-\_\-core\-\_\-preemption}(0))}}\label{group__cc_gaf936bcf607a61848cfea21c119f30905}


Easily turn preemption off. 

\begin{DoxySeeAlso}{See Also}
\hyperlink{group__cc_ga6121802a0b64aae83288f60bf8a76834}{set\-\_\-core\-\_\-preemption} 
\end{DoxySeeAlso}


Definition at line 93 of file kernel\-\_\-cc.\-h.

\hypertarget{group__cc_gac8efed506a60c7c6f02514e878a4004b}{\index{Concurrency control.@{Concurrency control.}!preempt\-\_\-on@{preempt\-\_\-on}}
\index{preempt\-\_\-on@{preempt\-\_\-on}!Concurrency control.@{Concurrency control.}}
\subsubsection[{preempt\-\_\-on}]{\setlength{\rightskip}{0pt plus 5cm}\#define preempt\-\_\-on~({\bf set\-\_\-core\-\_\-preemption}(1))}}\label{group__cc_gac8efed506a60c7c6f02514e878a4004b}


Easily turn preemption off. 

\begin{DoxySeeAlso}{See Also}
\hyperlink{group__cc_ga6121802a0b64aae83288f60bf8a76834}{set\-\_\-core\-\_\-preemption} 
\end{DoxySeeAlso}


Definition at line 98 of file kernel\-\_\-cc.\-h.



\subsection{Function Documentation}
\hypertarget{group__cc_gac3fd575c0f82fd75f8e7305be1107e2c}{\index{Concurrency control.@{Concurrency control.}!get\-\_\-core\-\_\-preemption@{get\-\_\-core\-\_\-preemption}}
\index{get\-\_\-core\-\_\-preemption@{get\-\_\-core\-\_\-preemption}!Concurrency control.@{Concurrency control.}}
\subsubsection[{get\-\_\-core\-\_\-preemption}]{\setlength{\rightskip}{0pt plus 5cm}int get\-\_\-core\-\_\-preemption (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{group__cc_gac3fd575c0f82fd75f8e7305be1107e2c}


Get the current preemption status. 

\begin{DoxyReturn}{Returns}
the current preemption status for this core, 0 means no preemption and 1 means preemption. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__cc_ga6121802a0b64aae83288f60bf8a76834}{set\-\_\-core\-\_\-preemption} 
\end{DoxySeeAlso}


Definition at line 38 of file kernel\-\_\-cc.\-c.

\hypertarget{group__cc_ga6121802a0b64aae83288f60bf8a76834}{\index{Concurrency control.@{Concurrency control.}!set\-\_\-core\-\_\-preemption@{set\-\_\-core\-\_\-preemption}}
\index{set\-\_\-core\-\_\-preemption@{set\-\_\-core\-\_\-preemption}!Concurrency control.@{Concurrency control.}}
\subsubsection[{set\-\_\-core\-\_\-preemption}]{\setlength{\rightskip}{0pt plus 5cm}int set\-\_\-core\-\_\-preemption (
\begin{DoxyParamCaption}
\item[{int}]{preempt}
\end{DoxyParamCaption}
)}}\label{group__cc_ga6121802a0b64aae83288f60bf8a76834}


Set the preemption status for the current thread. 

Depending on the value of the argument, this function will set preemption on or off. Preemption is disabled by disabling interrupts. This function is usually called via the convenience macros {\ttfamily preempt\-\_\-on} and {\ttfamily preempt\-\_\-off}. A typical non-\/preemptive section is declared as 
\begin{DoxyCode}
\textcolor{keywordtype}{int} preempt = \hyperlink{group__cc_gaf936bcf607a61848cfea21c119f30905}{preempt\_off};
..
    \textcolor{comment}{// do stuff without preemption }
...
if(preempt) \hyperlink{group__cc_gac8efed506a60c7c6f02514e878a4004b}{preempt\_on};
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em preempt} & the new preemption status \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the previous preemption status, where 0 means that preemption was previously off, and 1 means that it was on.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{group__cc_gaf936bcf607a61848cfea21c119f30905}{preempt\-\_\-off} 

\hyperlink{group__cc_gac8efed506a60c7c6f02514e878a4004b}{preempt\-\_\-on} 
\end{DoxySeeAlso}


Definition at line 22 of file kernel\-\_\-cc.\-c.



\subsection{Variable Documentation}
\hypertarget{group__cc_ga57ffb2dcd44b56da47dc03b2f85d9480}{\index{Concurrency control.@{Concurrency control.}!kernel\-\_\-mutex@{kernel\-\_\-mutex}}
\index{kernel\-\_\-mutex@{kernel\-\_\-mutex}!Concurrency control.@{Concurrency control.}}
\subsubsection[{kernel\-\_\-mutex}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Mutex} kernel\-\_\-mutex}}\label{group__cc_ga57ffb2dcd44b56da47dc03b2f85d9480}


The kernel lock. 

This mutex is used to protect most of the resources in kernel-\/space (the preemptive domain of the kernel). 

Definition at line 57 of file kernel\-\_\-cc.\-c.

